% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/slr.randtest.R
\name{slr.randtest}
\alias{slr.randtest}
\title{Randomization Test for Simple Linear Regression}
\usage{
slr.randtest(
  formula,
  data = NULL,
  nshuffles = 0,
  direction = c("greater", "less", "two.sided"),
  plt = FALSE
)
}
\arguments{
\item{formula}{An object of class \code{formula} specifying the model in the form
\code{response ~ explanatory}. The response variable is the outcome and the explanatory
variable is the predictor.}

\item{data}{A data frame containing the variables referenced in \code{formula}.
The data must be in tidy or matrix format.}

\item{nshuffles}{An integer specifying the number of random permutations to perform.
If not provided or set to 0, it defaults to 10. Must be a positive whole number.}

\item{direction}{A character string specifying the alternative hypothesis.
Must be one of \code{"greater"}, \code{"less"}, or \code{"two.sided"}.}

\item{plt}{Logical; if \code{TRUE}, a histogram of the permuted t-statistics is generated
using the \code{lattice} package and returned.}
}
\value{
If \code{plt} is \code{TRUE}, a histogram plot (a \code{trellis} object from the \code{lattice} package)
is printed and returned. Otherwise, the function prints the observed test statistic, slope estimate,
R-squared, and p-value to the console, and does not return a value.
}
\description{
This function performs a randomization (permutation) test for a linear association
in a simple linear regression model. It fits a linear model using the formula
\code{response ~ explanatory} and calculates the observed t-statistic for the slope.
Then, it randomly shuffles the response variable a specified number of times to generate
a null distribution of t-statistics. The p-value is computed based on the proportion of
permuted t-statistics that meet the criteria specified by the alternative hypothesis.
}
\details{
The function first fits a linear model using \code{lm()} to compute the observed t-statistic
for the slope coefficient, along with the slope estimate and R-squared value. A permutation test
is then conducted by shuffling the response variable and recalculating the t-statistic for the slope
coefficient in each permutation. Depending on the specified \code{direction}, the p-value is computed
as the proportion of permuted t-statistics that are greater than, less than, or as extreme as the
observed t-statistic. If \code{plt = TRUE}, the function produces a histogram plot of the randomization
distribution.
}
\examples{
\dontrun{
# Example data
set.seed(123)
data_example <- data.frame(
  y = rnorm(50, mean = 10, sd = 2),
  x = rnorm(50, mean = 5, sd = 1)
)

# Perform the randomization test with 1000 shuffles and no plot
slr.randtest(y ~ x, data = data_example, nshuffles = 1000, direction = "two.sided", plt = FALSE)

# Perform the randomization test with a histogram plot of the permutation distribution
slr.randtest(y ~ x, data = data_example, nshuffles = 1000, direction = "greater", plt = TRUE)
}

}
