% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/two.mean.test.R
\name{two.mean.test}
\alias{two.mean.test}
\title{Two-Sample t-Test with Optional Randomization Test}
\usage{
two.mean.test(
  formula,
  data,
  first.level,
  welch = TRUE,
  direction = c("two.sided", "greater", "less"),
  conf.level = 0.95,
  randtest = FALSE,
  nshuffles = NULL,
  returnRandStats = FALSE,
  printout = TRUE,
  printoutND = FALSE
)
}
\arguments{
\item{formula}{An object of class \code{formula} specifying the model as
\code{response ~ explanatory}. The response should be the measured variable
and the explanatory should be a factor indicating group membership.}

\item{data}{A data frame in tidy format containing the variables referenced in
\code{formula}.}

\item{first.level}{A character string specifying the level from the grouping
variable to be used as the reference. The difference in sample means is computed
accordingly.}

\item{welch}{Logical indicating whether to use Welch's t-test (default is
\code{TRUE}). If \code{FALSE}, the function uses Student's t-test assuming equal
variances.}

\item{direction}{A character string specifying the alternative hypothesis.
Must be one of \code{"two.sided"} (default), \code{"greater"}, or \code{"less"}.}

\item{conf.level}{A numeric value specifying the confidence level for the
confidence interval (default is 0.95).}

\item{randtest}{Logical; if \code{TRUE}, a randomization test is performed using
the Welch t-test statistic.}

\item{nshuffles}{An integer specifying the number of randomizations (shuffles)
to perform when \code{randtest} is \code{TRUE}.}

\item{returnRandStats}{Logical; if \code{TRUE}, the function returns the vector of
test statistics obtained from the randomization test.}

\item{printout}{Logical; if \code{TRUE} (default), the function prints detailed
output including group means, standard deviations, test statistics, degrees of
freedom, p-value, and confidence interval.}

\item{printoutND}{Logical; if \code{TRUE}, the function returns a histogram plot
object of the randomization test statistics.}
}
\value{
This function is primarily called for its side effects (printing output
to the console). Optionally, it can return:
\itemize{
\item A vector of randomization test statistics if \code{returnRandStats} is
\code{TRUE}.
\item A histogram plot object (from \code{plotDist}) if \code{printoutND} is
\code{TRUE}.
}
Otherwise, no value is explicitly returned.
}
\description{
This function computes a two-sample t-test based on a formula of the form
\code{response ~ explanatory} using data in tidy format. It calculates the test
statistic, p-value, and confidence interval using either Welch's t-test (default)
or Student's t-test. In addition, it can perform a randomization test by shuffling
the response values and recalculating the t-test statistic.
}
\details{
The function first processes the input formula and data, ensuring that the
grouping variable is re-leveled so that the specified \code{first.level} is used as
the reference. It then uses \code{t.test()} to perform the t-test with the chosen
settings. If \code{randtest} is set to \code{TRUE}, a randomization test is conducted
by shuffling the response variable and recalculating the test statistic over the
specified number of shuffles (\code{nshuffles}). The mosaic package is required for
some of the internal functions (e.g., \code{plotDist} and \code{histogram}).
}
\examples{
\dontrun{
# Create example data
set.seed(123)
group <- factor(rep(c("Control", "Treatment"), each = 30))
response <- c(rnorm(30, mean = 5, sd = 1), rnorm(30, mean = 6, sd = 1.2))
data_example <- data.frame(response = response, group = group)

# Perform Welch's t-test (default) with a two-sided alternative
two.mean.test(response ~ group, data = data_example, first.level = "Control",
              welch = TRUE, direction = "two.sided", conf.level = 0.95)

# Perform a randomization test with 1000 shuffles and return the random statistics
rand_stats <- two.mean.test(response ~ group, data = data_example, first.level = "Control",
                            welch = TRUE, direction = "two.sided", conf.level = 0.95,
                            randtest = TRUE, nshuffles = 1000, returnRandStats = TRUE)

# Obtain the histogram plot of the randomization test statistics
hist_plot <- two.mean.test(response ~ group, data = data_example, first.level = "Control",
                           welch = TRUE, direction = "two.sided", conf.level = 0.95,
                           randtest = TRUE, nshuffles = 1000, printoutND = TRUE)
}

}
